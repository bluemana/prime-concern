mainClassName = 'primeconcern.Main'
applicationDefaultJvmArgs = [
    // 1. Java HotSpot VM options
    '-XX:+PrintCommandLineFlags',
    '-XX:+HeapDumpOnOutOfMemoryError',
    '-XX:HeapDumpPath=./logs/',
    // 1.1 Heap size options
    '-XX:InitialHeapSize=128M', // Same as -Xms128M
    '-XX:MaxHeapSize=2G', // Same as -Xmx2G
]
mkdir('./logs') // Create the heap dump directory

run {
    // This allows to pass arguments to the app from the command line.
    // For example: ./gradlew run -Pn=10 -Po=./logs/result.txt
    if (project.hasProperty('n') &&
            project.hasProperty('o')) {
        args = ['-n=' + project.getProperty('n'),
                '-o=' + project.getProperty('o')]
    }
}
